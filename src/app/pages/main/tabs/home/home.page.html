<ion-content class="home-content">
  <div class="inner">
    <div class="calendar-widget">
      <div 
          class="item day" 
          *ngFor="let day of calendarDays"
          [class.today]="day.isToday"
          [class.has-workout]="day.hasWorkout"
          (click)="onDayClick(day)"
        >
        <div class="day-name">{{ day.dayName }}</div>
        <div class="workout">
          <img width="20" height="20"*ngIf="day.hasWorkout" src="assets/images/icon-checked.svg">
          <img width="20" height="20"*ngIf="!day.hasWorkout" src="assets/images/icon-unchecked.svg">
        </div>
        <div class="day-number">{{ day.dayNumber }}</div>
      </div>
      <div class="item expand ion-activatable ripple-parent" (click)="openCalendar()">
        <ion-ripple-effect></ion-ripple-effect>
        <img width="35" height="40" src="assets/images/icon-calendar-black.svg">
      </div>
    </div>

    <div class="workout">
      <div class="title">Le tue schede</div>

      <div class="list">
        <div class="workout-item" *ngFor="let workout of currentUser?.activeWorkouts">
          <div class="workout-cover icon">
            <img src="assets/images/icon-workout.svg">
          </div>
          <div class="workout-info">
            <div class="workout-title">{{ workout.descrizione }}</div>
            <div class="workout-detail">
              <span class="label">Durata</span>
              <span class="value">{{ workout.durata }} settimane</span>
            </div>
            <div class="workout-detail">
              <span class="label">Data inizio</span>
              <span class="value">{{ formatDate(workout.data_inizio) }}</span>
            </div>
            <div class="workout-detail">
              <span class="label">Data fine</span>
              <span class="value">{{ formatDate(workout.data_scadenza) }}</span>
            </div>
          </div>
          <div class="workout-action">
            <div class="action">
              <img src="assets/images/icon-plus-black.svg">
            </div>
          </div>
        </div>
        
        <div class="no-workouts" *ngIf="!currentUser?.activeWorkouts || currentUser?.activeWorkouts.length === 0">
          <p>Nessuna scheda attiva al momento</p>
        </div>
      </div>
    </div>

  </div>
</ion-content>